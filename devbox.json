{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.2/.schema/devbox.schema.json",
  "packages": {
    "jdk17":              "latest",
    "gradle":             "latest",
    "path:./nix#android-sdk": ""
  },
  "shell": {
    "init_hook": [
      "export ANDROID_SDK_ROOT=\"$(nix --extra-experimental-features 'nix-command flakes' eval --raw 'path:./nix#android-sdk.outPath' 2>/dev/null)/libexec/android-sdk\"",
      "export ANDROID_HOME=\"$ANDROID_SDK_ROOT\""
    ],
    "scripts": {
      "test": [
        "./gradlew :lib:testDebugUnitTest --no-daemon"
      ],
      "build": [
        "./gradlew build --no-daemon"
      ],
      "clean": [
        "./gradlew clean --no-daemon"
      ],
      "check": [
        "./gradlew check --no-daemon"
      ],
      "publish-release": [
        "./gradlew publishToSonatype -Prelease closeAndReleaseSonatypeStagingRepository --no-daemon"
      ],
      "publish-snapshot": [
        "./gradlew publishToSonatype --no-daemon"
      ],
      "info": [
        "echo \"JAVA_HOME: $JAVA_HOME\"",
        "echo \"ANDROID_SDK_ROOT: $ANDROID_SDK_ROOT\"",
        "java -version",
        "./gradlew -v"
      ]
    }
  }
}
